<p>Subtraction almost doesn't need its own page. That is because if you remember your basic math you never actually need to subtract anything! Subtraction is really just an easy way to write&nbsp;<em>add the opposite</em>. When we subtract we are really not performing a special operation, but really we are just adding the opposite of the second operand.</p>
<p>For example, if you want to do 5 - 3, you could equivialantly do 5 + -3. That means to subtract we can use the same circuit that we used for addition! We first just have to negate the second operand.</p>
<h3>Subtraction by Addition</h3>
<p>If you can remember back a few tutorials ago we covered how to represent negative numbers in 2's complement form. If you don't remember then you can go back to the <a href="/tutorials/digital-logic/encodings">encodings tutorial</a>.</p>
<p>Just as a refresher, &nbsp;2's complement representation allows you to easily negate a number by simply inverting all the bits then adding 1.</p>
<p>That leads to this basic circuit that uses only adders and not gates.</p>
<p><img src="{{media url="wysiwyg/digital-logic/subtraction_unoptimized.png"}}" alt="Basic Subtraction Circuit" /></p>
<p>Input <strong>b</strong> is fed into an inverter (shown as the circle) which flips all the bits. Then 1 is added to it making the output of the first adder <strong>-b</strong>. Finally, we just add <strong>a</strong> and <strong>-b</strong> together to get <strong>a - b.</strong></p>
<p>While this circuit will work prefectly fine, it is very wasteful. Do we really need an entire adder just to add 1 to <strong>b</strong>? To answer this question, we need to revisit how the adder works.</p>
<p><img src="{{media url="wysiwyg/digital-logic/adder.png"}}" alt="Adder Circuit" /></p>
<p>This is a basic 4 bit adder. All it does is add&nbsp;<strong>a</strong> and&nbsp;<strong>b</strong>. The thing to notice is that the first bit uses a half-adder to add the two bits together. That was because there was no carry in signal from a previous addition. What exactly does the carry in signal of a full adder do though?&nbsp;</p>
<p>The carry in of a full adder tells that adder if it should&nbsp;<strong>add an extra 1</strong> to the sum of the bits or not. Now, what if instead of a half adder for the first two bits we used a full adder and fed a 1 into the carry in signal? Instead of outputting&nbsp;<strong>a +&nbsp;</strong><strong>b</strong> it would output&nbsp;<strong>a + b + 1</strong>! That's almost what we need except, but we still have to invert&nbsp;<strong>b</strong>.&nbsp;</p>
<p><img src="{{media url="wysiwyg/digital-logic/subtractor.png"}}" alt="Subtraction Circuit" /></p>
<p>This circuit will now perform the operation&nbsp;<strong>a - b</strong>.</p>
<p>If for some reason you need to sometimes add a number and other times subtract it, you can make some modifications to this circuit to allow you to&nbsp;<em>select</em> if you want to add or subtract! All you have to do is use a multiplexer to select to feed in either&nbsp;<strong>b</strong>&nbsp;for addition or <strong>inverted b</strong>&nbsp; for subtraction and feed a 0 into the carry in for addition and a 1 for subtraction.</p>